# Monolithic Prompt Mapping Table - 2025-10-08

## **COMPREHENSIVE MONOLITHIC PROMPT MAPPING TABLE**

| **Section/Subsection** | **Foundation Stage** | **Ontology Stage** | **Strategic Stage** | **Comments** |
|------------------------|---------------------|-------------------|-------------------|--------------|
| **SECTION 1: CORE IDENTITY** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages - defines Dot's role and principles |
| **SECTION 2: OPERATIONAL CONFIGURATION** | | | | |
| **OUTPUT STRUCTURE MAPPING** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | Monolithic structure - not applicable to staged approach |
| **STEP 1: ONTOLOGY OPTIMIZATION** | | | | |
| **1.1 Concept Merging** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage responsibility |
| **1.2 Concept Archiving** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage responsibility |
| **1.3 Strategic Relationships** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage responsibility |
| **1.4 Community Structures** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage responsibility |
| **1.5 Concept Description Synthesis** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage responsibility |
| **STEP 2: INSIGHT GENERATION** | | | | |
| **2.1 Mandatory Artifacts** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - provides foundational understanding |
| **2.2 Additional Artifacts** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **2.2.1 Curatorial Principles** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **2.2 Quality Standards** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **2.3 Source Entity Mapping** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **2.4 Opening Artifact** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.1 Creative Narrative Principles** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.2 Formatting Requirements** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.3 Content Guidelines** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.4 Bold Creative Expression** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.5 Balance and Restraint** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.6 Creative vs Directness** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **2.4.7 Artifact Type Definitions** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility - for additional artifacts only |
| **2.5 Memory Profile Generation** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | **CORRECTED**: Foundation Stage responsibility - foundational understanding |
| **STEP 3: PROACTIVE ENGAGEMENT** | | | | |
| **3.1 Prompt Types Available** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **3.1.1 Curatorial Principles** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **3.1.2 Prompt Type Definitions** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **3.2 Timing Suggestions** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **3.3 Priority Levels** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **STEP 4: STRATEGIC GROWTH EVENTS** | | | | |
| **4.1 Purpose** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **4.2 Source** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **4.3 Content** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **4.4 Requirements** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **4.5 Strategic Approach** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **4.6 High-Quality Principles** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage responsibility |
| **STEP 5: KEY PHRASE GENERATION** | | | | |
| **5.1 Strategic Context** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | Foundation Stage responsibility |
| **5.2 Key Phrase Categories** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | Foundation Stage responsibility |
| **5.3 Quality Standards** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | Foundation Stage responsibility |
| **STRATEGIC PRINCIPLES** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **SECTION 3: DYNAMIC CONTEXT** | | | | |
| **3.1 Analysis Context** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **3.2 User Memory Profile** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Not needed for ontology optimization |
| **3.3 Consolidated Knowledge Graph** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **3.4 Recent Conversations** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Not needed for ontology optimization |
| **SECTION 4: CURRENT ANALYSIS** | | | | |
| **Critical Output Rules** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **Critical Entity ID Rules** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **Output Format (JSON Schema)** | | | | |
| **ontology_optimizations** | ❌ **EXCLUDED** | ✅ **INCLUDED** | ❌ **EXCLUDED** | Ontology Stage output only |
| **derived_artifacts** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | **CORRECTED**: Foundation Stage (opening, memory_profile) + Strategic Stage (additional artifacts) |
| **proactive_prompts** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage output only |
| **growth_events** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | ✅ **INCLUDED** | Strategic Stage output only |
| **key_phrases** | ✅ **INCLUDED** | ❌ **EXCLUDED** | ❌ **EXCLUDED** | Foundation Stage output only |
| **Critical Formatting Notes** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |
| **Examples of Correct vs Incorrect** | ✅ **INCLUDED** | ✅ **INCLUDED** | ✅ **INCLUDED** | Shared across all stages |

## **KEY INSIGHTS FROM THE CORRECTED MAPPING:**

### **Foundation Stage (Stage 1)**
- **Purpose**: Strategic analysis, foundational understanding, and key phrase generation
- **Includes**: 
  - Core identity
  - **Mandatory artifacts (2.1)**: opening and memory_profile with all their detailed instructions (2.4, 2.4.1-2.4.6, 2.5)
  - Key phrase generation (5.1-5.3)
  - Strategic principles
  - Analysis context, knowledge graph, recent conversations
  - Output rules
- **Excludes**: Ontology optimization, additional artifacts, proactive engagement, growth events
- **Output**: `foundation_results` (contains opening and memory_profile), `key_phrases`

### **Ontology Stage (Stage 2)**
- **Purpose**: Knowledge graph structure optimization
- **Includes**: 
  - Core identity
  - Ontology optimization (1.1-1.5)
  - Strategic principles
  - Analysis context, knowledge graph
  - Output rules
- **Excludes**: User memory profile, recent conversations, all artifact generation, all proactive engagement, all growth events, key phrase generation
- **Output**: `ontology_optimizations`

### **Strategic Stage (Stage 3)**
- **Purpose**: Generate additional artifacts, proactive engagement, and growth events
- **Includes**: 
  - Core identity
  - Additional artifacts (2.2, 2.2.1, 2.2, 2.3, 2.4.7)
  - Proactive engagement (3.1-3.3)
  - Growth events (4.1-4.6)
  - Strategic principles
  - All dynamic context
  - Output rules
- **Excludes**: Ontology optimization, mandatory artifacts (opening, memory_profile), key phrase generation
- **Output**: `derived_artifacts` (additional artifacts only - no opening/memory_profile), `proactive_prompts`, `growth_events`

## **CRITICAL CORRECTIONS MADE:**

1. **Mandatory Artifacts (2.1)**: Moved from Strategic Stage to Foundation Stage
2. **Opening Artifact (2.4)**: Moved from Strategic Stage to Foundation Stage with all sub-instructions (2.4.1-2.4.6)
3. **Memory Profile Generation (2.5)**: Moved from Strategic Stage to Foundation Stage
4. **Derived Artifacts Output**: Foundation Stage outputs opening and memory_profile within `foundation_results`, Strategic Stage outputs additional artifacts in `derived_artifacts` array
5. **Artifact Type Definitions (2.4.7)**: Remains in Strategic Stage for additional artifacts only
6. **Template Requests Removed**: Foundation Stage no longer generates template_requests - Strategic Stage decides which templates to use based on all available instructions

This corrected mapping ensures that the Foundation Stage provides the foundational understanding (opening and memory profile) that drives the Strategic Stage's additional artifact generation, while maintaining clear separation of responsibilities.
