/**
 * Markdown Styling for AI-Generated Content
 * Based on legacy chat.css but designed for V7 atomic design system
 * Supports variants: chat, artifact, card, dashboard
 */

/* Base markdown content styles */
.markdown-content {
  color: inherit;
  font-family: inherit;
  line-height: 1.6;
}

.markdown-content p {
  margin: 0 0 1.5rem 0;
  line-height: 1.7;
}

.markdown-content p:last-child {
  margin-bottom: 0;
}

.markdown-content strong {
  font-weight: 600;
  color: inherit;
}

.markdown-content em {
  font-style: italic;
  color: inherit;
}

/* Message lists - hierarchical and nested support */
.markdown-content .message-list {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
  list-style-type: disc;
}

.markdown-content .message-list ol {
  list-style-type: decimal;
}

.markdown-content .message-list li {
  margin-bottom: 0.25rem;
  line-height: 1.5;
}

/* Nested lists with proper indentation */
.markdown-content .message-list .message-list {
  margin: 0.25rem 0;
  padding-left: 1.5rem;
}

/* Chat variant - optimized for conversation bubbles */
.markdown-chat {
  font-size: 0.875rem;
  max-width: none;
}

.markdown-chat .message-list {
  margin: 0.375rem 0;
  padding-left: 1.25rem;
}

.markdown-chat .message-list li {
  margin-bottom: 0.125rem;
}

/* Artifact variant - for larger content displays */
.markdown-artifact {
  font-size: 1rem;
  max-width: 65ch;
  margin: 0 auto;
}

.markdown-artifact .message-list {
  margin: 0.75rem 0;
  padding-left: 2rem;
}

.markdown-artifact .message-list li {
  margin-bottom: 0.5rem;
}

/* Card variant - for compact card displays */
.markdown-card {
  font-size: 0.8125rem;
  line-height: 1.5;
}

.markdown-card .message-list {
  margin: 0.25rem 0;
  padding-left: 1rem;
}

.markdown-card .message-list li {
  margin-bottom: 0.125rem;
}

/* Dashboard variant - for analytics and overview displays */
.markdown-dashboard {
  font-size: 0.875rem;
  line-height: 1.4;
}

.markdown-dashboard p {
  margin: 0 0 1.75rem 0;
  line-height: 1.8;
  text-align: justify;
}

.markdown-dashboard p:last-child {
  margin-bottom: 0;
}

.markdown-dashboard .message-list {
  margin: 0.5rem 0;
  padding-left: 1.25rem;
}

.markdown-dashboard .message-list li {
  margin-bottom: 0.25rem;
}

/* Compact modifier - reduces spacing */
.markdown-compact {
  line-height: 1.4;
}

.markdown-compact p {
  margin: 0 0 1rem 0;
  line-height: 1.5;
}

.markdown-compact p:last-child {
  margin-bottom: 0;
}

.markdown-compact .message-list {
  margin: 0.25rem 0;
  padding-left: 1rem;
}

.markdown-compact .message-list li {
  margin-bottom: 0.1rem;
}

/* Enhanced styling for better visual hierarchy */
.markdown-content br + br {
  display: none; /* Prevent double line breaks */
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .markdown-content .message-list {
    padding-left: 1rem;
  }
  
  .markdown-artifact {
    max-width: none;
    font-size: 0.875rem;
  }
}

/* Dark mode support (if using CSS variables) */
@media (prefers-color-scheme: dark) {
  .markdown-content {
    color: inherit;
  }
}

/* Video and image elements */
.markdown-content .markdown-video {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 8px 0;
  display: block;
  background: #000;
}

.markdown-content .markdown-image {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 8px 0;
  display: block;
}

/* Hover states for interactive elements */
.markdown-content .message-list li:hover {
  opacity: 0.8;
  transition: opacity 0.2s ease-in-out;
}

/* Capsule Pill Styles */
.markdown-content .capsule-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.5rem;
  margin: 0 0.125rem;
  border-radius: 0.75rem;
  font-size: 0.75rem;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  border: 1px solid;
  position: relative;
  white-space: nowrap;
}

.markdown-content .capsule-pill::before {
  content: '';
  width: 0.375rem;
  height: 0.375rem;
  border-radius: 50%;
  flex-shrink: 0;
}

/* Web Source Pills (Blue) */
.markdown-content .capsule-pill.web-source {
  background-color: rgba(59, 130, 246, 0.1);
  border-color: rgba(96, 165, 250, 0.3);
  color: rgb(147, 197, 253);
}

.markdown-content .capsule-pill.web-source::before {
  background-color: rgb(96, 165, 250);
}

.markdown-content .capsule-pill.web-source:hover {
  background-color: rgba(59, 130, 246, 0.2);
  border-color: rgba(96, 165, 250, 0.5);
  color: rgb(191, 219, 254);
}

/* Entity Pills - Concept (Green) */
.markdown-content .capsule-pill.entity[data-entity-type="concept"] {
  background-color: rgba(34, 197, 94, 0.1);
  border-color: rgba(74, 222, 128, 0.3);
  color: rgb(134, 239, 172);
}

.markdown-content .capsule-pill.entity[data-entity-type="concept"]::before {
  background-color: rgb(74, 222, 128);
}

.markdown-content .capsule-pill.entity[data-entity-type="concept"]:hover {
  background-color: rgba(34, 197, 94, 0.2);
  border-color: rgba(74, 222, 128, 0.5);
  color: rgb(187, 247, 208);
}

/* Entity Pills - Memory Unit (Purple) */
.markdown-content .capsule-pill.entity[data-entity-type="memory_unit"] {
  background-color: rgba(168, 85, 247, 0.1);
  border-color: rgba(196, 181, 253, 0.3);
  color: rgb(196, 181, 253);
}

.markdown-content .capsule-pill.entity[data-entity-type="memory_unit"]::before {
  background-color: rgb(196, 181, 253);
}

.markdown-content .capsule-pill.entity[data-entity-type="memory_unit"]:hover {
  background-color: rgba(168, 85, 247, 0.2);
  border-color: rgba(196, 181, 253, 0.5);
  color: rgb(221, 214, 254);
}

/* Entity Pills - Artifact (Yellow) */
.markdown-content .capsule-pill.entity[data-entity-type="artifact"] {
  background-color: rgba(234, 179, 8, 0.1);
  border-color: rgba(250, 204, 21, 0.3);
  color: rgb(250, 204, 21);
}

.markdown-content .capsule-pill.entity[data-entity-type="artifact"]::before {
  background-color: rgb(250, 204, 21);
}

.markdown-content .capsule-pill.entity[data-entity-type="artifact"]:hover {
  background-color: rgba(234, 179, 8, 0.2);
  border-color: rgba(250, 204, 21, 0.5);
  color: rgb(253, 224, 71);
}

/* Entity Pills - Growth Event (Pink) */
.markdown-content .capsule-pill.entity[data-entity-type="growth_event"] {
  background-color: rgba(236, 72, 153, 0.1);
  border-color: rgba(251, 113, 133, 0.3);
  color: rgb(251, 113, 133);
}

.markdown-content .capsule-pill.entity[data-entity-type="growth_event"]::before {
  background-color: rgb(251, 113, 133);
}

.markdown-content .capsule-pill.entity[data-entity-type="growth_event"]:hover {
  background-color: rgba(236, 72, 153, 0.2);
  border-color: rgba(251, 113, 133, 0.5);
  color: rgb(252, 165, 165);
}

/* Entity Pills - Prompt (Orange) */
.markdown-content .capsule-pill.entity[data-entity-type="prompt"] {
  background-color: rgba(249, 115, 22, 0.1);
  border-color: rgba(251, 146, 60, 0.3);
  color: rgb(251, 146, 60);
}

.markdown-content .capsule-pill.entity[data-entity-type="prompt"]::before {
  background-color: rgb(251, 146, 60);
}

.markdown-content .capsule-pill.entity[data-entity-type="prompt"]:hover {
  background-color: rgba(249, 115, 22, 0.2);
  border-color: rgba(251, 146, 60, 0.5);
  color: rgb(253, 186, 116);
}

/* Entity Pills - Community (Cyan) */
.markdown-content .capsule-pill.entity[data-entity-type="community"] {
  background-color: rgba(6, 182, 212, 0.1);
  border-color: rgba(34, 211, 238, 0.3);
  color: rgb(34, 211, 238);
}

.markdown-content .capsule-pill.entity[data-entity-type="community"]::before {
  background-color: rgb(34, 211, 238);
}

.markdown-content .capsule-pill.entity[data-entity-type="community"]:hover {
  background-color: rgba(6, 182, 212, 0.2);
  border-color: rgba(34, 211, 238, 0.5);
  color: rgb(103, 232, 249);
}

/* Fallback for unknown entity types */
.markdown-content .capsule-pill.entity:not([data-entity-type="concept"]):not([data-entity-type="memory_unit"]):not([data-entity-type="artifact"]):not([data-entity-type="growth_event"]):not([data-entity-type="prompt"]):not([data-entity-type="community"]) {
  background-color: rgba(34, 197, 94, 0.1);
  border-color: rgba(74, 222, 128, 0.3);
  color: rgb(134, 239, 172);
}

.markdown-content .capsule-pill.entity:not([data-entity-type="concept"]):not([data-entity-type="memory_unit"]):not([data-entity-type="artifact"]):not([data-entity-type="growth_event"]):not([data-entity-type="prompt"]):not([data-entity-type="community"])::before {
  background-color: rgb(74, 222, 128);
}

.markdown-content .capsule-pill.entity:not([data-entity-type="concept"]):not([data-entity-type="memory_unit"]):not([data-entity-type="artifact"]):not([data-entity-type="growth_event"]):not([data-entity-type="prompt"]):not([data-entity-type="community"]):hover {
  background-color: rgba(34, 197, 94, 0.2);
  border-color: rgba(74, 222, 128, 0.5);
  color: rgb(187, 247, 208);
} 